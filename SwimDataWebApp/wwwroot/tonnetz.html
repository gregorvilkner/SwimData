<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Compound Path</title>
    <link rel="stylesheet" href="./css/site.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.2/paper-full.min.js"></script>
    <script type="text/paperscript" canvas="canvas">

        var baseNotes=['c', 'c#/d♭', 'd', 'd#/e♭', 'e', 'f', 'f#/g♭', 'g', 'g#/a♭', 'a', 'a#/b♭', 'b'];

        var offset=0;

        var volume=0.1;
        var octave=3;

        var notes=[];
        for(i=0; i<baseNotes.length;i++){
            notes.push(baseNotes[(i +  offset) % baseNotes.length]);
        }


        var triangle = new Path.RegularPolygon(new Point(300, 300), 3, 100);
        triangle.fillColor = 'red';
        triangle.onMouseEnter = function(event) {
            triangle.fillColor='white';
        };
        triangle.onMouseLeave = function(event) {
            triangle.fillColor='red';
        };
        triangle.onMouseDown = function(event) {
            var c = cp.buildChordPlayer(notes[0].toUpperCase().split('/')[0]  + 'maj');
            c.setVolume(volume);
            c.setOctave(octave);
            c.play();
        };
        triangle.strokeColor = 'white';
        triangle.strokeWidth=2;
        console.log(triangle);

        var textBaseTriangle=new PointText(triangle.bounds.center);
        textBaseTriangle.justification = 'center';
        textBaseTriangle.fillColor = 'black';
        textBaseTriangle.content = notes[0].toUpperCase()  + '-maj';
        textBaseTriangle.translate(new Point(0,+20));

        for(i = 0; i<3; i++){

                var circle=new Path.Circle(triangle.segments[i].point, 30);
                circle.fillColor='white';
                circle.strokeColor='black';
                circle.strokeWidth=1;


                var text=new PointText(triangle.segments[i].point);
                text.justification = 'center';
                text.fillColor = 'black';
                text.content = [notes[0],notes[4],notes[7]][i].toUpperCase();
                text.translate(new Point(0,+5));


            for(j=0; j<4; j++){
                var triangleFlip=triangle.clone();
                triangleFlip.fillColor = 'lightblue';
                triangleFlip.onMouseEnter = function(event) {
                    event.target.fillColor='white';
                };
                triangleFlip.onMouseLeave = function(event) {
                    event.target.fillColor='lightblue';
                };

                if(i==0 && j==0){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[0].toUpperCase().split('/')[0]  + 'min');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==0 && j==1){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[8].toUpperCase().split('/')[0]  + 'maj');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==0 && j==2){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[5].toUpperCase().split('/')[0]  + 'min');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==0 && j==3){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[5].toUpperCase().split('/')[0]  + 'maj');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==1 && j==0){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[9].toUpperCase().split('/')[0]  + 'min');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==1 && j==1){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[9].toUpperCase().split('/')[0]  + 'maj');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==1 && j==2){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[1].toUpperCase().split('/')[0]  + 'min');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==1 && j==3){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[4].toUpperCase().split('/')[0]  + 'maj');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==2 && j==0){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[4].toUpperCase().split('/')[0]  + 'min');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==2 && j==1){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[7].toUpperCase().split('/')[0]  + 'maj');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==2 && j==2){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[7].toUpperCase().split('/')[0]  + 'min');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }
                if(i==2 && j==3){
                    triangleFlip.onMouseDown = function(event) {
                        var c = cp.buildChordPlayer(notes[3].toUpperCase().split('/')[0]  + 'maj');
                        c.setVolume(volume);
                        c.setOctave(octave);
                        c.play();
                    };
                }

                triangleFlip.rotate((j+1)*60, triangle.segments[i].point);

                var textFlip=new PointText(triangleFlip.bounds.center);
                textFlip.justification = 'center';
                textFlip.fillColor = 'black';
                textFlip.content = j;
                if(i==0 && j==0){
                    textFlip.content=notes[0].toUpperCase()  + '-min';
                }
                if(i==0 && j==1){
                    textFlip.content=notes[8].toUpperCase()  + '-maj';
                }
                if(i==0 && j==2){
                    textFlip.content=notes[5].toUpperCase()  + '-min';
                }
                if(i==0 && j==3){
                    textFlip.content=notes[5].toUpperCase()  + '-maj';
                }
                if(i==1 && j==0){
                    textFlip.content=notes[9].toUpperCase()  + '-min';
                }
                if(i==1 && j==1){
                    textFlip.content=notes[9].toUpperCase()  + '-maj';
                }
                if(i==1 && j==2){
                    textFlip.content=notes[1].toUpperCase()  + '-min';
                }
                if(i==1 && j==3){
                    textFlip.content=notes[4].toUpperCase()  + '-maj';
                }
                if(i==2 && j==0){
                    textFlip.content=notes[4].toUpperCase()  + '-min';
                }
                if(i==2 && j==1){
                    textFlip.content=notes[7].toUpperCase()  + '-maj';
                }
                if(i==2 && j==2){
                    textFlip.content=notes[7].toUpperCase()  + '-min';
                }
                if(i==2 && j==3){
                    textFlip.content=notes[3].toUpperCase()  + '-maj';
                }
                textFlip.translate(new Point(0,+5));

                if(j<3){
                    var circleFlip=new Path.Circle(triangleFlip.segments[ (i+2) % 3].point, 20);
                    circleFlip.fillColor='white';
                    circleFlip.strokeColor='black';
                    circleFlip.strokeWidth=1;


                    var textFlip2=new PointText(triangleFlip.segments[ (i+2) % 3].point);
                    textFlip2.justification = 'center';
                    textFlip2.fillColor = 'black';
                    textFlip2.content = (i+2) % 3;
                    if(i==0 && j==0){
                        textFlip2.content=notes[3].toUpperCase();
                    }
                    if(i==0 && j==1){
                        textFlip2.content=notes[8].toUpperCase();
                    }
                    if(i==0 && j==2){
                        textFlip2.content=notes[5].toUpperCase();
                    }
                    if(i==1 && j==0){
                        textFlip2.content=notes[9].toUpperCase();
                    }
                    if(i==1 && j==1){
                        textFlip2.content=notes[1].toUpperCase();
                    }
                    if(i==1 && j==2){
                        textFlip2.content=notes[8].toUpperCase();
                    }
                    if(i==2 && j==0){
                        textFlip2.content=notes[11].toUpperCase();
                    }
                    if(i==2 && j==1){
                        textFlip2.content=notes[2].toUpperCase();
                    }
                    if(i==2 && j==2){
                        textFlip2.content=notes[10].toUpperCase();
                    }
                    textFlip2.translate(new Point(0,+5));
                }
            }
        }



    </script>
    <script type="text/javascript">
        !function t(n, r, e) { function o(i, a) { if (!r[i]) { if (!n[i]) { var f = "function" == typeof require && require; if (!a && f) return f(i, !0); if (u) return u(i, !0); var c = new Error("Cannot find module '" + i + "'"); throw c.code = "MODULE_NOT_FOUND", c } var l = r[i] = { exports: {} }; n[i][0].call(l.exports, function (t) { var r = n[i][1][t]; return o(r ? r : t) }, l, l.exports, t, n, r, e) } return r[i].exports } for (var u = "function" == typeof require && require, i = 0; i < e.length; i++)o(e[i]); return o }({
            1: [function (n, t, r) {
                (function (n) {
                    (function () {
                        function e(n, t) { if (n !== t) { var r = null === n, e = n === E, o = n === n, u = null === t, i = t === E, a = t === t; if (n > t && !u || !o || r && !i && a || e && a) return 1; if (t > n && !r || !a || u && !e && o || i && o) return -1 } return 0 } function o(n, t, r) { for (var e = n.length, o = r ? e : -1; r ? o-- : ++o < e;)if (t(n[o], o, n)) return o; return -1 } function u(n, t, r) { if (t !== t) return g(n, r); for (var e = r - 1, o = n.length; ++e < o;)if (n[e] === t) return e; return -1 } function i(n) { return "function" == typeof n || !1 } function a(n) { return null == n ? "" : n + "" } function f(n, t) { for (var r = -1, e = n.length; ++r < e && t.indexOf(n.charAt(r)) > -1;); return r } function c(n, t) { for (var r = n.length; r-- && t.indexOf(n.charAt(r)) > -1;); return r } function l(n, t) { return e(n.criteria, t.criteria) || n.index - t.index } function s(n, t, r) { for (var o = -1, u = n.criteria, i = t.criteria, a = u.length, f = r.length; ++o < a;) { var c = e(u[o], i[o]); if (c) { if (o >= f) return c; var l = r[o]; return c * ("asc" === l || l === !0 ? 1 : -1) } } return n.index - t.index } function h(n) { return Vn[n] } function p(n) { return Gn[n] } function v(n, t, r) { return t ? n = Hn[n] : r && (n = Qn[n]), "\\" + n } function _(n) { return "\\" + Qn[n] } function g(n, t, r) { for (var e = n.length, o = t + (r ? 0 : -1); r ? o-- : ++o < e;) { var u = n[o]; if (u !== u) return o } return -1 } function d(n) { return !!n && "object" == typeof n } function y(n) { return 160 >= n && n >= 9 && 13 >= n || 32 == n || 160 == n || 5760 == n || 6158 == n || n >= 8192 && (8202 >= n || 8232 == n || 8233 == n || 8239 == n || 8287 == n || 12288 == n || 65279 == n) } function m(n, t) { for (var r = -1, e = n.length, o = -1, u = []; ++r < e;)n[r] === t && (n[r] = $, u[++o] = r); return u } function w(n, t) { for (var r, e = -1, o = n.length, u = -1, i = []; ++e < o;) { var a = n[e], f = t ? t(a, e, n) : a; e && r === f || (r = f, i[++u] = a) } return i } function b(n) { for (var t = -1, r = n.length; ++t < r && y(n.charCodeAt(t));); return t } function x(n) { for (var t = n.length; t-- && y(n.charCodeAt(t));); return t } function A(n) { return zn[n] } function C(n) {
                            function t(n) { if (d(n) && !Oa(n) && !(n instanceof J)) { if (n instanceof y) return n; if (ti.call(n, "__chain__") && ti.call(n, "__wrapped__")) return pe(n) } return new y(n) } function r() { } function y(n, t, r) { this.__wrapped__ = n, this.__actions__ = r || [], this.__chain__ = !!t } function J(n) { this.__wrapped__ = n, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = Ni, this.__views__ = [] } function tn() { var n = new J(this.__wrapped__); return n.__actions__ = tt(this.__actions__), n.__dir__ = this.__dir__, n.__filtered__ = this.__filtered__, n.__iteratees__ = tt(this.__iteratees__), n.__takeCount__ = this.__takeCount__, n.__views__ = tt(this.__views__), n } function en() { if (this.__filtered__) { var n = new J(this); n.__dir__ = -1, n.__filtered__ = !0 } else n = this.clone(), n.__dir__ *= -1; return n } function Vn() { var n = this.__wrapped__.value(), t = this.__dir__, r = Oa(n), e = 0 > t, o = r ? n.length : 0, u = Gr(0, o, this.__views__), i = u.start, a = u.end, f = a - i, c = e ? a : i - 1, l = this.__iteratees__, s = l.length, h = 0, p = Ai(f, this.__takeCount__); if (!r || K > o || o == f && p == f) return er(e && r ? n.reverse() : n, this.__actions__); var v = []; n: for (; f-- && p > h;) { c += t; for (var _ = -1, g = n[c]; ++_ < s;) { var d = l[_], y = d.iteratee, m = d.type, w = y(g); if (m == W) g = w; else if (!w) { if (m == B) continue n; break n } } v[h++] = g } return v } function Gn() { this.__data__ = {} } function zn(n) { return this.has(n) && delete this.__data__[n] } function Mn(n) { return "__proto__" == n ? E : this.__data__[n] } function Hn(n) { return "__proto__" != n && ti.call(this.__data__, n) } function Qn(n, t) { return "__proto__" != n && (this.__data__[n] = t), this } function Jn(n) { var t = n ? n.length : 0; for (this.data = { hash: di(null), set: new si }; t--;)this.push(n[t]) } function Xn(n, t) { var r = n.data, e = "string" == typeof t || Fo(t) ? r.set.has(t) : r.hash[t]; return e ? 0 : -1 } function Zn(n) { var t = this.data; "string" == typeof n || Fo(n) ? t.set.add(n) : t.hash[n] = !0 } function nt(n, t) { for (var r = -1, e = n.length, o = -1, u = t.length, i = Bu(e + u); ++r < e;)i[r] = n[r]; for (; ++o < u;)i[r++] = t[o]; return i } function tt(n, t) { var r = -1, e = n.length; for (t || (t = Bu(e)); ++r < e;)t[r] = n[r]; return t } function rt(n, t) { for (var r = -1, e = n.length; ++r < e && t(n[r], r, n) !== !1;); return n } function ut(n, t) { for (var r = n.length; r-- && t(n[r], r, n) !== !1;); return n } function it(n, t) { for (var r = -1, e = n.length; ++r < e;)if (!t(n[r], r, n)) return !1; return !0 } function at(n, t, r, e) { for (var o = -1, u = n.length, i = e, a = i; ++o < u;) { var f = n[o], c = +t(f); r(c, i) && (i = c, a = f) } return a } function ft(n, t) { for (var r = -1, e = n.length, o = -1, u = []; ++r < e;) { var i = n[r]; t(i, r, n) && (u[++o] = i) } return u } function ct(n, t) { for (var r = -1, e = n.length, o = Bu(e); ++r < e;)o[r] = t(n[r], r, n); return o } function lt(n, t) { for (var r = -1, e = t.length, o = n.length; ++r < e;)n[o + r] = t[r]; return n } function st(n, t, r, e) { var o = -1, u = n.length; for (e && u && (r = n[++o]); ++o < u;)r = t(r, n[o], o, n); return r } function ht(n, t, r, e) { var o = n.length; for (e && o && (r = n[--o]); o--;)r = t(r, n[o], o, n); return r } function pt(n, t) { for (var r = -1, e = n.length; ++r < e;)if (t(n[r], r, n)) return !0; return !1 } function vt(n, t) { for (var r = n.length, e = 0; r--;)e += +t(n[r]) || 0; return e } function _t(n, t) { return n === E ? t : n } function gt(n, t, r, e) { return n !== E && ti.call(e, r) ? n : t } function dt(n, t, r) { for (var e = -1, o = Ka(t), u = o.length; ++e < u;) { var i = o[e], a = n[i], f = r(a, t[i], i, n, t); (f === f ? f === a : a !== a) && (a !== E || i in n) || (n[i] = f) } return n } function yt(n, t) { return null == t ? n : wt(t, Ka(t), n) } function mt(n, t) { for (var r = -1, e = null == n, o = !e && Jr(n), u = o ? n.length : 0, i = t.length, a = Bu(i); ++r < i;) { var f = t[r]; o ? a[r] = Xr(f, u) ? n[f] : E : a[r] = e ? E : n[f] } return a } function wt(n, t, r) { r || (r = {}); for (var e = -1, o = t.length; ++e < o;) { var u = t[e]; r[u] = n[u] } return r } function bt(n, t, r) { var e = typeof n; return "function" == e ? t === E ? n : ir(n, t, r) : null == n ? Nu : "object" == e ? Kt(n) : t === E ? Su(n) : Bt(n, t) } function xt(n, t, r, e, o, u, i) { var a; if (r && (a = o ? r(n, e, o) : r(n)), a !== E) return a; if (!Fo(n)) return n; var f = Oa(n); if (f) { if (a = zr(n), !t) return tt(n, a) } else { var c = ei.call(n), l = c == Q; if (c != Z && c != V && (!l || o)) return $n[c] ? Hr(n, c, t) : o ? n : {}; if (a = Mr(l ? {} : n), !t) return yt(a, n) } u || (u = []), i || (i = []); for (var s = u.length; s--;)if (u[s] == n) return i[s]; return u.push(n), i.push(a), (f ? rt : kt)(n, function (e, o) { a[o] = xt(e, t, r, o, n, u, i) }), a } function At(n, t, r) { if ("function" != typeof n) throw new Qu(Y); return hi(function () { n.apply(E, r) }, t) } function Ct(n, t) { var r = n ? n.length : 0, e = []; if (!r) return e; var o = -1, i = Yr(), a = i == u, f = a && t.length >= K ? _r(t) : null, c = t.length; f && (i = Xn, a = !1, t = f); n: for (; ++o < r;) { var l = n[o]; if (a && l === l) { for (var s = c; s--;)if (t[s] === l) continue n; e.push(l) } else i(t, l, 0) < 0 && e.push(l) } return e } function Et(n, t) { var r = !0; return Ui(n, function (n, e, o) { return r = !!t(n, e, o) }), r } function Rt(n, t, r, e) { var o = e, u = o; return Ui(n, function (n, i, a) { var f = +t(n, i, a); (r(f, o) || f === e && f === u) && (o = f, u = n) }), u } function It(n, t, r, e) { var o = n.length; for (r = null == r ? 0 : +r || 0, 0 > r && (r = -r > o ? 0 : o + r), e = e === E || e > o ? o : +e || 0, 0 > e && (e += o), o = r > e ? 0 : e >>> 0, r >>>= 0; o > r;)n[r++] = t; return n } function Nt(n, t) { var r = []; return Ui(n, function (n, e, o) { t(n, e, o) && r.push(n) }), r } function Ot(n, t, r, e) { var o; return r(n, function (n, r, u) { return t(n, r, u) ? (o = e ? r : n, !1) : void 0 }), o } function Tt(n, t, r, e) { e || (e = []); for (var o = -1, u = n.length; ++o < u;) { var i = n[o]; d(i) && Jr(i) && (r || Oa(i) || Ro(i)) ? t ? Tt(i, t, r, e) : lt(e, i) : r || (e[e.length] = i) } return e } function jt(n, t) { return Li(n, t, tu) } function kt(n, t) { return Li(n, t, Ka) } function Dt(n, t) { return qi(n, t, Ka) } function St(n, t) { for (var r = -1, e = t.length, o = -1, u = []; ++r < e;) { var i = t[r]; So(n[i]) && (u[++o] = i) } return u } function Ft(n, t, r) { if (null != n) { r !== E && r in se(n) && (t = [r]); for (var e = 0, o = t.length; null != n && o > e;)n = n[t[e++]]; return e && e == o ? n : E } } function Ut(n, t, r, e, o, u) { return n === t ? !0 : null == n || null == t || !Fo(n) && !d(t) ? n !== n && t !== t : Pt(n, t, Ut, r, e, o, u) } function Pt(n, t, r, e, o, u, i) { var a = Oa(n), f = Oa(t), c = G, l = G; a || (c = ei.call(n), c == V ? c = Z : c != Z && (a = $o(n))), f || (l = ei.call(t), l == V ? l = Z : l != Z && (f = $o(t))); var s = c == Z, h = l == Z, p = c == l; if (p && !a && !s) return qr(n, t, c); if (!o) { var v = s && ti.call(n, "__wrapped__"), _ = h && ti.call(t, "__wrapped__"); if (v || _) return r(v ? n.value() : n, _ ? t.value() : t, e, o, u, i) } if (!p) return !1; u || (u = []), i || (i = []); for (var g = u.length; g--;)if (u[g] == n) return i[g] == t; u.push(n), i.push(t); var d = (a ? Lr : Kr)(n, t, r, e, o, u, i); return u.pop(), i.pop(), d } function Lt(n, t, r) { var e = t.length, o = e, u = !r; if (null == n) return !o; for (n = se(n); e--;) { var i = t[e]; if (u && i[2] ? i[1] !== n[i[0]] : !(i[0] in n)) return !1 } for (; ++e < o;) { i = t[e]; var a = i[0], f = n[a], c = i[1]; if (u && i[2]) { if (f === E && !(a in n)) return !1 } else { var l = r ? r(f, c, a) : E; if (!(l === E ? Ut(c, f, r, !0) : l)) return !1 } } return !0 } function qt(n, t) { var r = -1, e = Jr(n) ? Bu(n.length) : []; return Ui(n, function (n, o, u) { e[++r] = t(n, o, u) }), e } function Kt(n) { var t = $r(n); if (1 == t.length && t[0][2]) { var r = t[0][0], e = t[0][1]; return function (n) { return null == n ? !1 : n[r] === e && (e !== E || r in se(n)) } } return function (n) { return Lt(n, t) } } function Bt(n, t) { var r = Oa(n), e = ne(n) && ee(t), o = n + ""; return n = he(n), function (u) { if (null == u) return !1; var i = o; if (u = se(u), (r || !e) && !(i in u)) { if (u = 1 == n.length ? u : Ft(u, Ht(n, 0, -1)), null == u) return !1; i = Re(n), u = se(u) } return u[i] === t ? t !== E || i in u : Ut(t, u[i], E, !0) } } function Wt(n, t, r, e, o) { if (!Fo(n)) return n; var u = Jr(t) && (Oa(t) || $o(t)), i = u ? E : Ka(t); return rt(i || t, function (a, f) { if (i && (f = a, a = t[f]), d(a)) e || (e = []), o || (o = []), Yt(n, t, f, Wt, r, e, o); else { var c = n[f], l = r ? r(c, a, f, n, t) : E, s = l === E; s && (l = a), l === E && (!u || f in n) || !s && (l === l ? l === c : c !== c) || (n[f] = l) } }), n } function Yt(n, t, r, e, o, u, i) { for (var a = u.length, f = t[r]; a--;)if (u[a] == f) return void (n[r] = i[a]); var c = n[r], l = o ? o(c, f, r, n, t) : E, s = l === E; s && (l = f, Jr(f) && (Oa(f) || $o(f)) ? l = Oa(c) ? c : Jr(c) ? tt(c) : [] : Bo(f) || Ro(f) ? l = Ro(c) ? Ho(c) : Bo(c) ? c : {} : s = !1), u.push(f), i.push(l), s ? n[r] = e(l, f, o, u, i) : (l === l ? l !== c : c === c) && (n[r] = l) } function $t(n) { return function (t) { return null == t ? E : t[n] } } function Vt(n) { var t = n + ""; return n = he(n), function (r) { return Ft(r, n, t) } } function Gt(n, t) { for (var r = n ? t.length : 0; r--;) { var e = t[r]; if (e != o && Xr(e)) { var o = e; pi.call(n, e, 1) } } return n } function zt(n, t) { return n + yi(Ri() * (t - n + 1)) } function Mt(n, t, r, e, o) { return o(n, function (n, o, u) { r = e ? (e = !1, n) : t(r, n, o, u) }), r } function Ht(n, t, r) { var e = -1, o = n.length; t = null == t ? 0 : +t || 0, 0 > t && (t = -t > o ? 0 : o + t), r = r === E || r > o ? o : +r || 0, 0 > r && (r += o), o = t > r ? 0 : r - t >>> 0, t >>>= 0; for (var u = Bu(o); ++e < o;)u[e] = n[e + t]; return u } function Qt(n, t) { var r; return Ui(n, function (n, e, o) { return r = t(n, e, o), !r }), !!r } function Jt(n, t) { var r = n.length; for (n.sort(t); r--;)n[r] = n[r].value; return n } function Xt(n, t, r) { var e = Br(), o = -1; t = ct(t, function (n) { return e(n) }); var u = qt(n, function (n) { var r = ct(t, function (t) { return t(n) }); return { criteria: r, index: ++o, value: n } }); return Jt(u, function (n, t) { return s(n, t, r) }) } function Zt(n, t) { var r = 0; return Ui(n, function (n, e, o) { r += +t(n, e, o) || 0 }), r } function nr(n, t) { var r = -1, e = Yr(), o = n.length, i = e == u, a = i && o >= K, f = a ? _r() : null, c = []; f ? (e = Xn, i = !1) : (a = !1, f = t ? [] : c); n: for (; ++r < o;) { var l = n[r], s = t ? t(l, r, n) : l; if (i && l === l) { for (var h = f.length; h--;)if (f[h] === s) continue n; t && f.push(s), c.push(l) } else e(f, s, 0) < 0 && ((t || a) && f.push(s), c.push(l)) } return c } function tr(n, t) { for (var r = -1, e = t.length, o = Bu(e); ++r < e;)o[r] = n[t[r]]; return o } function rr(n, t, r, e) { for (var o = n.length, u = e ? o : -1; (e ? u-- : ++u < o) && t(n[u], u, n);); return r ? Ht(n, e ? 0 : u, e ? u + 1 : o) : Ht(n, e ? u + 1 : 0, e ? o : u) } function er(n, t) { var r = n; r instanceof J && (r = r.value()); for (var e = -1, o = t.length; ++e < o;) { var u = t[e]; r = u.func.apply(u.thisArg, lt([r], u.args)) } return r } function or(n, t, r) { var e = 0, o = n ? n.length : e; if ("number" == typeof t && t === t && ji >= o) { for (; o > e;) { var u = e + o >>> 1, i = n[u]; (r ? t >= i : t > i) && null !== i ? e = u + 1 : o = u } return o } return ur(n, t, Nu, r) } function ur(n, t, r, e) { t = r(t); for (var o = 0, u = n ? n.length : 0, i = t !== t, a = null === t, f = t === E; u > o;) { var c = yi((o + u) / 2), l = r(n[c]), s = l !== E, h = l === l; if (i) var p = h || e; else p = a ? h && s && (e || null != l) : f ? h && (e || s) : null == l ? !1 : e ? t >= l : t > l; p ? o = c + 1 : u = c } return Ai(u, Ti) } function ir(n, t, r) { if ("function" != typeof n) return Nu; if (t === E) return n; switch (r) { case 1: return function (r) { return n.call(t, r) }; case 3: return function (r, e, o) { return n.call(t, r, e, o) }; case 4: return function (r, e, o, u) { return n.call(t, r, e, o, u) }; case 5: return function (r, e, o, u, i) { return n.call(t, r, e, o, u, i) } }return function () { return n.apply(t, arguments) } } function ar(n) { var t = new ii(n.byteLength), r = new vi(t); return r.set(new vi(n)), t } function fr(n, t, r) { for (var e = r.length, o = -1, u = xi(n.length - e, 0), i = -1, a = t.length, f = Bu(a + u); ++i < a;)f[i] = t[i]; for (; ++o < e;)f[r[o]] = n[o]; for (; u--;)f[i++] = n[o++]; return f } function cr(n, t, r) { for (var e = -1, o = r.length, u = -1, i = xi(n.length - o, 0), a = -1, f = t.length, c = Bu(i + f); ++u < i;)c[u] = n[u]; for (var l = u; ++a < f;)c[l + a] = t[a]; for (; ++e < o;)c[l + r[e]] = n[u++]; return c } function lr(n, t) { return function (r, e, o) { var u = t ? t() : {}; if (e = Br(e, o, 3), Oa(r)) for (var i = -1, a = r.length; ++i < a;) { var f = r[i]; n(u, f, e(f, i, r), r) } else Ui(r, function (t, r, o) { n(u, t, e(t, r, o), o) }); return u } } function sr(n) { return yo(function (t, r) { var e = -1, o = null == t ? 0 : r.length, u = o > 2 ? r[o - 2] : E, i = o > 2 ? r[2] : E, a = o > 1 ? r[o - 1] : E; for ("function" == typeof u ? (u = ir(u, a, 5), o -= 2) : (u = "function" == typeof a ? a : E, o -= u ? 1 : 0), i && Zr(r[0], r[1], i) && (u = 3 > o ? E : u, o = 1); ++e < o;) { var f = r[e]; f && n(t, f, u) } return t }) } function hr(n, t) { return function (r, e) { var o = r ? Wi(r) : 0; if (!re(o)) return n(r, e); for (var u = t ? o : -1, i = se(r); (t ? u-- : ++u < o) && e(i[u], u, i) !== !1;); return r } } function pr(n) { return function (t, r, e) { for (var o = se(t), u = e(t), i = u.length, a = n ? i : -1; n ? a-- : ++a < i;) { var f = u[a]; if (r(o[f], f, o) === !1) break } return t } } function vr(n, t) { function r() { var o = this && this !== et && this instanceof r ? e : n; return o.apply(t, arguments) } var e = dr(n); return r } function _r(n) { return di && si ? new Jn(n) : null } function gr(n) { return function (t) { for (var r = -1, e = Eu(su(t)), o = e.length, u = ""; ++r < o;)u = n(u, e[r], r); return u } } function dr(n) { return function () { var t = arguments; switch (t.length) { case 0: return new n; case 1: return new n(t[0]); case 2: return new n(t[0], t[1]); case 3: return new n(t[0], t[1], t[2]); case 4: return new n(t[0], t[1], t[2], t[3]); case 5: return new n(t[0], t[1], t[2], t[3], t[4]); case 6: return new n(t[0], t[1], t[2], t[3], t[4], t[5]); case 7: return new n(t[0], t[1], t[2], t[3], t[4], t[5], t[6]) }var r = Fi(n.prototype), e = n.apply(r, t); return Fo(e) ? e : r } } function yr(n) { function t(r, e, o) { o && Zr(r, e, o) && (e = E); var u = Pr(r, n, E, E, E, E, E, e); return u.placeholder = t.placeholder, u } return t } function mr(n, t) { return yo(function (r) { var e = r[0]; return null == e ? e : (r.push(t), n.apply(E, r)) }) } function wr(n, t) { return function (r, e, o) { if (o && Zr(r, e, o) && (e = E), e = Br(e, o, 3), 1 == e.length) { r = Oa(r) ? r : le(r); var u = at(r, e, n, t); if (!r.length || u !== t) return u } return Rt(r, e, n, t) } } function br(n, t) { return function (r, e, u) { if (e = Br(e, u, 3), Oa(r)) { var i = o(r, e, t); return i > -1 ? r[i] : E } return Ot(r, e, n) } } function xr(n) { return function (t, r, e) { return t && t.length ? (r = Br(r, e, 3), o(t, r, n)) : -1 } } function Ar(n) { return function (t, r, e) { return r = Br(r, e, 3), Ot(t, r, n, !0) } } function Cr(n) { return function () { for (var t, r = arguments.length, e = n ? r : -1, o = 0, u = Bu(r); n ? e-- : ++e < r;) { var i = u[o++] = arguments[e]; if ("function" != typeof i) throw new Qu(Y); !t && y.prototype.thru && "wrapper" == Wr(i) && (t = new y([], !0)) } for (e = t ? -1 : r; ++e < r;) { i = u[e]; var a = Wr(i), f = "wrapper" == a ? Bi(i) : E; t = f && te(f[0]) && f[1] == (S | T | k | F) && !f[4].length && 1 == f[9] ? t[Wr(f[0])].apply(t, f[3]) : 1 == i.length && te(i) ? t[a]() : t.thru(i) } return function () { var n = arguments, e = n[0]; if (t && 1 == n.length && Oa(e) && e.length >= K) return t.plant(e).value(); for (var o = 0, i = r ? u[o].apply(this, n) : e; ++o < r;)i = u[o].call(this, i); return i } } } function Er(n, t) { return function (r, e, o) { return "function" == typeof e && o === E && Oa(r) ? n(r, e) : t(r, ir(e, o, 3)) } } function Rr(n) { return function (t, r, e) { return ("function" != typeof r || e !== E) && (r = ir(r, e, 3)), n(t, r, tu) } } function Ir(n) { return function (t, r, e) { return ("function" != typeof r || e !== E) && (r = ir(r, e, 3)), n(t, r) } } function Nr(n) { return function (t, r, e) { var o = {}; return r = Br(r, e, 3), kt(t, function (t, e, u) { var i = r(t, e, u); e = n ? i : e, t = n ? t : i, o[e] = t }), o } } function Or(n) { return function (t, r, e) { return t = a(t), (n ? t : "") + Dr(t, r, e) + (n ? "" : t) } } function Tr(n) { var t = yo(function (r, e) { var o = m(e, t.placeholder); return Pr(r, n, E, e, o) }); return t } function jr(n, t) { return function (r, e, o, u) { var i = arguments.length < 3; return "function" == typeof e && u === E && Oa(r) ? n(r, e, o, i) : Mt(r, Br(e, u, 4), o, i, t) } } function kr(n, t, r, e, o, u, i, a, f, c) { function l() { for (var y = arguments.length, w = y, b = Bu(y); w--;)b[w] = arguments[w]; if (e && (b = fr(b, e, o)), u && (b = cr(b, u, i)), v || g) { var x = l.placeholder, A = m(b, x); if (y -= A.length, c > y) { var C = a ? tt(a) : E, R = xi(c - y, 0), O = v ? A : E, T = v ? E : A, j = v ? b : E, S = v ? E : b; t |= v ? k : D, t &= ~(v ? D : k), _ || (t &= ~(I | N)); var F = [n, t, r, j, O, S, T, C, f, R], U = kr.apply(E, F); return te(n) && Yi(U, F), U.placeholder = x, U } } var P = h ? r : this, L = p ? P[n] : n; return a && (b = fe(b, a)), s && f < b.length && (b.length = f), this && this !== et && this instanceof l && (L = d || dr(n)), L.apply(P, b) } var s = t & S, h = t & I, p = t & N, v = t & T, _ = t & O, g = t & j, d = p ? E : dr(n); return l } function Dr(n, t, r) { var e = n.length; if (t = +t, e >= t || !wi(t)) return ""; var o = t - e; return r = null == r ? " " : r + "", du(r, gi(o / r.length)).slice(0, o) } function Sr(n, t, r, e) { function o() { for (var t = -1, a = arguments.length, f = -1, c = e.length, l = Bu(c + a); ++f < c;)l[f] = e[f]; for (; a--;)l[f++] = arguments[++t]; var s = this && this !== et && this instanceof o ? i : n; return s.apply(u ? r : this, l) } var u = t & I, i = dr(n); return o } function Fr(n) { var t = Vu[n]; return function (n, r) { return r = r === E ? 0 : +r || 0, r ? (r = ci(10, r), t(n * r) / r) : t(n) } } function Ur(n) { return function (t, r, e, o) { var u = Br(e); return null == e && u === bt ? or(t, r, n) : ur(t, r, u(e, o, 1), n) } } function Pr(n, t, r, e, o, u, i, a) { var f = t & N; if (!f && "function" != typeof n) throw new Qu(Y); var c = e ? e.length : 0; if (c || (t &= ~(k | D), e = o = E), c -= o ? o.length : 0, t & D) { var l = e, s = o; e = o = E } var h = f ? E : Bi(n), p = [n, t, r, e, o, l, s, u, i, a]; if (h && (oe(p, h), t = p[1], a = p[9]), p[9] = null == a ? f ? 0 : n.length : xi(a - c, 0) || 0, t == I) var v = vr(p[0], p[2]); else v = t != k && t != (I | k) || p[4].length ? kr.apply(E, p) : Sr.apply(E, p); var _ = h ? Ki : Yi; return _(v, p) } function Lr(n, t, r, e, o, u, i) { var a = -1, f = n.length, c = t.length; if (f != c && !(o && c > f)) return !1; for (; ++a < f;) { var l = n[a], s = t[a], h = e ? e(o ? s : l, o ? l : s, a) : E; if (h !== E) { if (h) continue; return !1 } if (o) { if (!pt(t, function (n) { return l === n || r(l, n, e, o, u, i) })) return !1 } else if (l !== s && !r(l, s, e, o, u, i)) return !1 } return !0 } function qr(n, t, r) { switch (r) { case z: case M: return +n == +t; case H: return n.name == t.name && n.message == t.message; case X: return n != +n ? t != +t : n == +t; case nn: case rn: return n == t + "" }return !1 } function Kr(n, t, r, e, o, u, i) { var a = Ka(n), f = a.length, c = Ka(t), l = c.length; if (f != l && !o) return !1; for (var s = f; s--;) { var h = a[s]; if (!(o ? h in t : ti.call(t, h))) return !1 } for (var p = o; ++s < f;) { h = a[s]; var v = n[h], _ = t[h], g = e ? e(o ? _ : v, o ? v : _, h) : E; if (!(g === E ? r(v, _, e, o, u, i) : g)) return !1; p || (p = "constructor" == h) } if (!p) { var d = n.constructor, y = t.constructor; if (d != y && "constructor" in n && "constructor" in t && !("function" == typeof d && d instanceof d && "function" == typeof y && y instanceof y)) return !1 } return !0 } function Br(n, r, e) { var o = t.callback || Ru; return o = o === Ru ? bt : o, e ? o(n, r, e) : o } function Wr(n) { for (var t = n.name, r = Si[t], e = r ? r.length : 0; e--;) { var o = r[e], u = o.func; if (null == u || u == n) return o.name } return t } function Yr(n, r, e) { var o = t.indexOf || Ce; return o = o === Ce ? u : o, n ? o(n, r, e) : o } function $r(n) { for (var t = ru(n), r = t.length; r--;)t[r][2] = ee(t[r][1]); return t } function Vr(n, t) { var r = null == n ? E : n[t]; return Lo(r) ? r : E } function Gr(n, t, r) { for (var e = -1, o = r.length; ++e < o;) { var u = r[e], i = u.size; switch (u.type) { case "drop": n += i; break; case "dropRight": t -= i; break; case "take": t = Ai(t, n + i); break; case "takeRight": n = xi(n, t - i) } } return { start: n, end: t } } function zr(n) { var t = n.length, r = new n.constructor(t); return t && "string" == typeof n[0] && ti.call(n, "index") && (r.index = n.index, r.input = n.input), r } function Mr(n) { var t = n.constructor; return "function" == typeof t && t instanceof t || (t = zu), new t } function Hr(n, t, r) { var e = n.constructor; switch (t) { case on: return ar(n); case z: case M: return new e(+n); case un: case an: case fn: case cn: case ln: case sn: case hn: case pn: case vn: var o = n.buffer; return new e(r ? ar(o) : o, n.byteOffset, n.length); case X: case rn: return new e(n); case nn: var u = new e(n.source, Dn.exec(n)); u.lastIndex = n.lastIndex }return u } function Qr(n, t, r) { null == n || ne(t, n) || (t = he(t), n = 1 == t.length ? n : Ft(n, Ht(t, 0, -1)), t = Re(t)); var e = null == n ? n : n[t]; return null == e ? E : e.apply(n, r) } function Jr(n) { return null != n && re(Wi(n)) } function Xr(n, t) { return n = "number" == typeof n || Un.test(n) ? +n : -1, t = null == t ? ki : t, n > -1 && n % 1 == 0 && t > n } function Zr(n, t, r) { if (!Fo(r)) return !1; var e = typeof t; if ("number" == e ? Jr(r) && Xr(t, r.length) : "string" == e && t in r) { var o = r[t]; return n === n ? n === o : o !== o } return !1 } function ne(n, t) { var r = typeof n; if ("string" == r && Rn.test(n) || "number" == r) return !0; if (Oa(n)) return !1; var e = !En.test(n); return e || null != t && n in se(t) } function te(n) { var r = Wr(n); if (!(r in J.prototype)) return !1; var e = t[r]; if (n === e) return !0; var o = Bi(e); return !!o && n === o[0] } function re(n) { return "number" == typeof n && n > -1 && n % 1 == 0 && ki >= n } function ee(n) { return n === n && !Fo(n) } function oe(n, t) { var r = n[1], e = t[1], o = r | e, u = S > o, i = e == S && r == T || e == S && r == F && n[7].length <= t[8] || e == (S | F) && r == T; if (!u && !i) return n; e & I && (n[2] = t[2], o |= r & I ? 0 : O); var a = t[3]; if (a) { var f = n[3]; n[3] = f ? fr(f, a, t[4]) : tt(a), n[4] = f ? m(n[3], $) : tt(t[4]) } return a = t[5], a && (f = n[5], n[5] = f ? cr(f, a, t[6]) : tt(a), n[6] = f ? m(n[5], $) : tt(t[6])), a = t[7], a && (n[7] = tt(a)), e & S && (n[8] = null == n[8] ? t[8] : Ai(n[8], t[8])), null == n[9] && (n[9] = t[9]), n[0] = t[0], n[1] = o, n } function ue(n, t) { return n === E ? t : Ta(n, t, ue) } function ie(n, t) { n = se(n); for (var r = -1, e = t.length, o = {}; ++r < e;) { var u = t[r]; u in n && (o[u] = n[u]) } return o } function ae(n, t) { var r = {}; return jt(n, function (n, e, o) { t(n, e, o) && (r[e] = n) }), r } function fe(n, t) { for (var r = n.length, e = Ai(t.length, r), o = tt(n); e--;) { var u = t[e]; n[e] = Xr(u, r) ? o[u] : E } return n } function ce(n) { for (var t = tu(n), r = t.length, e = r && n.length, o = !!e && re(e) && (Oa(n) || Ro(n)), u = -1, i = []; ++u < r;) { var a = t[u]; (o && Xr(a, e) || ti.call(n, a)) && i.push(a) } return i } function le(n) { return null == n ? [] : Jr(n) ? Fo(n) ? n : zu(n) : iu(n) } function se(n) { return Fo(n) ? n : zu(n) } function he(n) { if (Oa(n)) return n; var t = []; return a(n).replace(In, function (n, r, e, o) { t.push(e ? o.replace(jn, "$1") : r || n) }), t } function pe(n) { return n instanceof J ? n.clone() : new y(n.__wrapped__, n.__chain__, tt(n.__actions__)) } function ve(n, t, r) { t = (r ? Zr(n, t, r) : null == t) ? 1 : xi(yi(t) || 1, 1); for (var e = 0, o = n ? n.length : 0, u = -1, i = Bu(gi(o / t)); o > e;)i[++u] = Ht(n, e, e += t); return i } function _e(n) { for (var t = -1, r = n ? n.length : 0, e = -1, o = []; ++t < r;) { var u = n[t]; u && (o[++e] = u) } return o } function ge(n, t, r) { var e = n ? n.length : 0; return e ? ((r ? Zr(n, t, r) : null == t) && (t = 1), Ht(n, 0 > t ? 0 : t)) : [] } function de(n, t, r) { var e = n ? n.length : 0; return e ? ((r ? Zr(n, t, r) : null == t) && (t = 1), t = e - (+t || 0), Ht(n, 0, 0 > t ? 0 : t)) : [] } function ye(n, t, r) { return n && n.length ? rr(n, Br(t, r, 3), !0, !0) : [] } function me(n, t, r) { return n && n.length ? rr(n, Br(t, r, 3), !0) : [] } function we(n, t, r, e) { var o = n ? n.length : 0; return o ? (r && "number" != typeof r && Zr(n, t, r) && (r = 0, e = o), It(n, t, r, e)) : [] } function be(n) { return n ? n[0] : E } function xe(n, t, r) { var e = n ? n.length : 0; return r && Zr(n, t, r) && (t = !1), e ? Tt(n, t) : [] } function Ae(n) { var t = n ? n.length : 0; return t ? Tt(n, !0) : [] } function Ce(n, t, r) { var e = n ? n.length : 0; if (!e) return -1; if ("number" == typeof r) r = 0 > r ? xi(e + r, 0) : r; else if (r) { var o = or(n, t); return e > o && (t === t ? t === n[o] : n[o] !== n[o]) ? o : -1 } return u(n, t, r || 0) } function Ee(n) { return de(n, 1) } function Re(n) { var t = n ? n.length : 0; return t ? n[t - 1] : E } function Ie(n, t, r) { var e = n ? n.length : 0; if (!e) return -1; var o = e; if ("number" == typeof r) o = (0 > r ? xi(e + r, 0) : Ai(r || 0, e - 1)) + 1; else if (r) { o = or(n, t, !0) - 1; var u = n[o]; return (t === t ? t === u : u !== u) ? o : -1 } if (t !== t) return g(n, o, !0); for (; o--;)if (n[o] === t) return o; return -1 } function Ne() { var n = arguments, t = n[0]; if (!t || !t.length) return t; for (var r = 0, e = Yr(), o = n.length; ++r < o;)for (var u = 0, i = n[r]; (u = e(t, i, u)) > -1;)pi.call(t, u, 1); return t } function Oe(n, t, r) { var e = []; if (!n || !n.length) return e; var o = -1, u = [], i = n.length; for (t = Br(t, r, 3); ++o < i;) { var a = n[o]; t(a, o, n) && (e.push(a), u.push(o)) } return Gt(n, u), e } function Te(n) { return ge(n, 1) } function je(n, t, r) { var e = n ? n.length : 0; return e ? (r && "number" != typeof r && Zr(n, t, r) && (t = 0, r = e), Ht(n, t, r)) : [] } function ke(n, t, r) { var e = n ? n.length : 0; return e ? ((r ? Zr(n, t, r) : null == t) && (t = 1), Ht(n, 0, 0 > t ? 0 : t)) : [] } function De(n, t, r) { var e = n ? n.length : 0; return e ? ((r ? Zr(n, t, r) : null == t) && (t = 1), t = e - (+t || 0), Ht(n, 0 > t ? 0 : t)) : [] } function Se(n, t, r) { return n && n.length ? rr(n, Br(t, r, 3), !1, !0) : [] } function Fe(n, t, r) { return n && n.length ? rr(n, Br(t, r, 3)) : [] } function Ue(n, t, r, e) { var o = n ? n.length : 0; if (!o) return []; null != t && "boolean" != typeof t && (e = r, r = Zr(n, t, e) ? E : t, t = !1); var i = Br(); return (null != r || i !== bt) && (r = i(r, e, 3)), t && Yr() == u ? w(n, r) : nr(n, r) } function Pe(n) { if (!n || !n.length) return []; var t = -1, r = 0; n = ft(n, function (n) { return Jr(n) ? (r = xi(n.length, r), !0) : void 0 }); for (var e = Bu(r); ++t < r;)e[t] = ct(n, $t(t)); return e } function Le(n, t, r) { var e = n ? n.length : 0; if (!e) return []; var o = Pe(n); return null == t ? o : (t = ir(t, r, 4), ct(o, function (n) { return st(n, t, E, !0) })) } function qe() { for (var n = -1, t = arguments.length; ++n < t;) { var r = arguments[n]; if (Jr(r)) var e = e ? lt(Ct(e, r), Ct(r, e)) : r } return e ? nr(e) : [] } function Ke(n, t) { var r = -1, e = n ? n.length : 0, o = {}; for (!e || t || Oa(n[0]) || (t = []); ++r < e;) { var u = n[r]; t ? o[u] = t[r] : u && (o[u[0]] = u[1]) } return o } function Be(n) { var r = t(n); return r.__chain__ = !0, r } function We(n, t, r) { return t.call(r, n), n } function Ye(n, t, r) { return t.call(r, n) } function $e() { return Be(this) } function Ve() { return new y(this.value(), this.__chain__) } function Ge(n) { for (var t, e = this; e instanceof r;) { var o = pe(e); t ? u.__wrapped__ = o : t = o; var u = o; e = e.__wrapped__ } return u.__wrapped__ = n, t } function ze() { var n = this.__wrapped__, t = function (n) { return r && r.__dir__ < 0 ? n : n.reverse() }; if (n instanceof J) { var r = n; return this.__actions__.length && (r = new J(this)), r = r.reverse(), r.__actions__.push({ func: Ye, args: [t], thisArg: E }), new y(r, this.__chain__) } return this.thru(t) } function Me() { return this.value() + "" } function He() { return er(this.__wrapped__, this.__actions__) } function Qe(n, t, r) { var e = Oa(n) ? it : Et; return r && Zr(n, t, r) && (t = E), ("function" != typeof t || r !== E) && (t = Br(t, r, 3)), e(n, t) } function Je(n, t, r) { var e = Oa(n) ? ft : Nt; return t = Br(t, r, 3), e(n, t) } function Xe(n, t) { return oa(n, Kt(t)) } function Ze(n, t, r, e) { var o = n ? Wi(n) : 0; return re(o) || (n = iu(n), o = n.length), r = "number" != typeof r || e && Zr(t, r, e) ? 0 : 0 > r ? xi(o + r, 0) : r || 0, "string" == typeof n || !Oa(n) && Yo(n) ? o >= r && n.indexOf(t, r) > -1 : !!o && Yr(n, t, r) > -1 } function no(n, t, r) { var e = Oa(n) ? ct : qt; return t = Br(t, r, 3), e(n, t) } function to(n, t) { return no(n, Su(t)) } function ro(n, t, r) { var e = Oa(n) ? ft : Nt; return t = Br(t, r, 3), e(n, function (n, r, e) { return !t(n, r, e) }) } function eo(n, t, r) { if (r ? Zr(n, t, r) : null == t) { n = le(n); var e = n.length; return e > 0 ? n[zt(0, e - 1)] : E } var o = -1, u = Mo(n), e = u.length, i = e - 1; for (t = Ai(0 > t ? 0 : +t || 0, e); ++o < t;) { var a = zt(o, i), f = u[a]; u[a] = u[o], u[o] = f } return u.length = t, u } function oo(n) { return eo(n, Ni) } function uo(n) { var t = n ? Wi(n) : 0; return re(t) ? t : Ka(n).length } function io(n, t, r) { var e = Oa(n) ? pt : Qt; return r && Zr(n, t, r) && (t = E), ("function" != typeof t || r !== E) && (t = Br(t, r, 3)), e(n, t) } function ao(n, t, r) { if (null == n) return []; r && Zr(n, t, r) && (t = E); var e = -1; t = Br(t, r, 3); var o = qt(n, function (n, r, o) { return { criteria: t(n, r, o), index: ++e, value: n } }); return Jt(o, l) } function fo(n, t, r, e) { return null == n ? [] : (e && Zr(t, r, e) && (r = E), Oa(t) || (t = null == t ? [] : [t]), Oa(r) || (r = null == r ? [] : [r]), Xt(n, t, r)) } function co(n, t) { return Je(n, Kt(t)) } function lo(n, t) { if ("function" != typeof t) { if ("function" != typeof n) throw new Qu(Y); var r = n; n = t, t = r } return n = wi(n = +n) ? n : 0, function () { return --n < 1 ? t.apply(this, arguments) : void 0 } } function so(n, t, r) { return r && Zr(n, t, r) && (t = E), t = n && null == t ? n.length : xi(+t || 0, 0), Pr(n, S, E, E, E, E, t) } function ho(n, t) { var r; if ("function" != typeof t) { if ("function" != typeof n) throw new Qu(Y); var e = n; n = t, t = e } return function () { return --n > 0 && (r = t.apply(this, arguments)), 1 >= n && (t = E), r } } function po(n, t, r) { function e() { p && ai(p), c && ai(c), _ = 0, c = p = v = E } function o(t, r) { r && ai(r), c = p = v = E, t && (_ = _a(), l = n.apply(h, f), p || c || (f = h = E)) } function u() { var n = t - (_a() - s); 0 >= n || n > t ? o(v, c) : p = hi(u, n) } function i() { o(d, p) } function a() { if (f = arguments, s = _a(), h = this, v = d && (p || !y), g === !1) var r = y && !p; else { c || y || (_ = s); var e = g - (s - _), o = 0 >= e || e > g; o ? (c && (c = ai(c)), _ = s, l = n.apply(h, f)) : c || (c = hi(i, e)) } return o && p ? p = ai(p) : p || t === g || (p = hi(u, t)), r && (o = !0, l = n.apply(h, f)), !o || p || c || (f = h = E), l } var f, c, l, s, h, p, v, _ = 0, g = !1, d = !0; if ("function" != typeof n) throw new Qu(Y); if (t = 0 > t ? 0 : +t || 0, r === !0) { var y = !0; d = !1 } else Fo(r) && (y = !!r.leading, g = "maxWait" in r && xi(+r.maxWait || 0, t), d = "trailing" in r ? !!r.trailing : d); return a.cancel = e, a } function vo(n, t) { if ("function" != typeof n || t && "function" != typeof t) throw new Qu(Y); var r = function () { var e = arguments, o = t ? t.apply(this, e) : e[0], u = r.cache; if (u.has(o)) return u.get(o); var i = n.apply(this, e); return r.cache = u.set(o, i), i }; return r.cache = new vo.Cache, r } function _o(n) { if ("function" != typeof n) throw new Qu(Y); return function () { return !n.apply(this, arguments) } } function go(n) { return ho(2, n) } function yo(n, t) { if ("function" != typeof n) throw new Qu(Y); return t = xi(t === E ? n.length - 1 : +t || 0, 0), function () { for (var r = arguments, e = -1, o = xi(r.length - t, 0), u = Bu(o); ++e < o;)u[e] = r[t + e]; switch (t) { case 0: return n.call(this, u); case 1: return n.call(this, r[0], u); case 2: return n.call(this, r[0], r[1], u) }var i = Bu(t + 1); for (e = -1; ++e < t;)i[e] = r[e]; return i[t] = u, n.apply(this, i) } } function mo(n) { if ("function" != typeof n) throw new Qu(Y); return function (t) { return n.apply(this, t) } } function wo(n, t, r) { var e = !0, o = !0; if ("function" != typeof n) throw new Qu(Y); return r === !1 ? e = !1 : Fo(r) && (e = "leading" in r ? !!r.leading : e, o = "trailing" in r ? !!r.trailing : o), po(n, t, { leading: e, maxWait: +t, trailing: o }) } function bo(n, t) { return t = null == t ? Nu : t, Pr(t, k, E, [n], []) } function xo(n, t, r, e) { return t && "boolean" != typeof t && Zr(n, t, r) ? t = !1 : "function" == typeof t && (e = r, r = t, t = !1), "function" == typeof r ? xt(n, t, ir(r, e, 1)) : xt(n, t) } function Ao(n, t, r) { return "function" == typeof t ? xt(n, !0, ir(t, r, 1)) : xt(n, !0) } function Co(n, t) { return n > t } function Eo(n, t) { return n >= t } function Ro(n) { return d(n) && Jr(n) && ti.call(n, "callee") && !li.call(n, "callee") } function Io(n) { return n === !0 || n === !1 || d(n) && ei.call(n) == z } function No(n) { return d(n) && ei.call(n) == M } function Oo(n) { return !!n && 1 === n.nodeType && d(n) && !Bo(n) } function To(n) { return null == n ? !0 : Jr(n) && (Oa(n) || Yo(n) || Ro(n) || d(n) && So(n.splice)) ? !n.length : !Ka(n).length } function jo(n, t, r, e) { r = "function" == typeof r ? ir(r, e, 3) : E; var o = r ? r(n, t) : E; return o === E ? Ut(n, t, r) : !!o } function ko(n) { return d(n) && "string" == typeof n.message && ei.call(n) == H } function Do(n) { return "number" == typeof n && wi(n) } function So(n) { return Fo(n) && ei.call(n) == Q } function Fo(n) { var t = typeof n; return !!n && ("object" == t || "function" == t) } function Uo(n, t, r, e) { return r = "function" == typeof r ? ir(r, e, 3) : E, Lt(n, $r(t), r) } function Po(n) { return Ko(n) && n != +n } function Lo(n) { return null == n ? !1 : So(n) ? ui.test(ni.call(n)) : d(n) && Fn.test(n) } function qo(n) { return null === n } function Ko(n) { return "number" == typeof n || d(n) && ei.call(n) == X } function Bo(n) { var t; if (!d(n) || ei.call(n) != Z || Ro(n) || !ti.call(n, "constructor") && (t = n.constructor, "function" == typeof t && !(t instanceof t))) return !1; var r; return jt(n, function (n, t) { r = t }), r === E || ti.call(n, r) } function Wo(n) { return Fo(n) && ei.call(n) == nn } function Yo(n) { return "string" == typeof n || d(n) && ei.call(n) == rn } function $o(n) { return d(n) && re(n.length) && !!Yn[ei.call(n)] } function Vo(n) { return n === E } function Go(n, t) { return t > n } function zo(n, t) { return t >= n } function Mo(n) { var t = n ? Wi(n) : 0; return re(t) ? t ? tt(n) : [] : iu(n) } function Ho(n) { return wt(n, tu(n)) } function Qo(n, t, r) { var e = Fi(n); return r && Zr(n, t, r) && (t = E), t ? yt(e, t) : e } function Jo(n) { return St(n, tu(n)) } function Xo(n, t, r) { var e = null == n ? E : Ft(n, he(t), t + ""); return e === E ? r : e } function Zo(n, t) { if (null == n) return !1; var r = ti.call(n, t); if (!r && !ne(t)) { if (t = he(t), n = 1 == t.length ? n : Ft(n, Ht(t, 0, -1)), null == n) return !1; t = Re(t), r = ti.call(n, t) } return r || re(n.length) && Xr(t, n.length) && (Oa(n) || Ro(n)) } function nu(n, t, r) { r && Zr(n, t, r) && (t = E); for (var e = -1, o = Ka(n), u = o.length, i = {}; ++e < u;) { var a = o[e], f = n[a]; t ? ti.call(i, f) ? i[f].push(a) : i[f] = [a] : i[f] = a } return i } function tu(n) { if (null == n) return []; Fo(n) || (n = zu(n)); var t = n.length; t = t && re(t) && (Oa(n) || Ro(n)) && t || 0; for (var r = n.constructor, e = -1, o = "function" == typeof r && r.prototype === n, u = Bu(t), i = t > 0; ++e < t;)u[e] = e + ""; for (var a in n) i && Xr(a, t) || "constructor" == a && (o || !ti.call(n, a)) || u.push(a); return u } function ru(n) { n = se(n); for (var t = -1, r = Ka(n), e = r.length, o = Bu(e); ++t < e;) { var u = r[t]; o[t] = [u, n[u]] } return o } function eu(n, t, r) { var e = null == n ? E : n[t]; return e === E && (null == n || ne(t, n) || (t = he(t), n = 1 == t.length ? n : Ft(n, Ht(t, 0, -1)), e = null == n ? E : n[Re(t)]), e = e === E ? r : e), So(e) ? e.call(n) : e } function ou(n, t, r) { if (null == n) return n; var e = t + ""; t = null != n[e] || ne(t, n) ? [e] : he(t); for (var o = -1, u = t.length, i = u - 1, a = n; null != a && ++o < u;) { var f = t[o]; Fo(a) && (o == i ? a[f] = r : null == a[f] && (a[f] = Xr(t[o + 1]) ? [] : {})), a = a[f] } return n } function uu(n, t, r, e) { var o = Oa(n) || $o(n); if (t = Br(t, e, 4), null == r) if (o || Fo(n)) { var u = n.constructor; r = o ? Oa(n) ? new u : [] : Fi(So(u) ? u.prototype : E) } else r = {}; return (o ? rt : kt)(n, function (n, e, o) { return t(r, n, e, o) }), r } function iu(n) { return tr(n, Ka(n)) } function au(n) {
                                return tr(n, tu(n));
                            } function fu(n, t, r) { return t = +t || 0, r === E ? (r = t, t = 0) : r = +r || 0, n >= Ai(t, r) && n < xi(t, r) } function cu(n, t, r) { r && Zr(n, t, r) && (t = r = E); var e = null == n, o = null == t; if (null == r && (o && "boolean" == typeof n ? (r = n, n = 1) : "boolean" == typeof t && (r = t, o = !0)), e && o && (t = 1, o = !1), n = +n || 0, o ? (t = n, n = 0) : t = +t || 0, r || n % 1 || t % 1) { var u = Ri(); return Ai(n + u * (t - n + fi("1e-" + ((u + "").length - 1))), t) } return zt(n, t) } function lu(n) { return n = a(n), n && n.charAt(0).toUpperCase() + n.slice(1) } function su(n) { return n = a(n), n && n.replace(Pn, h).replace(Tn, "") } function hu(n, t, r) { n = a(n), t += ""; var e = n.length; return r = r === E ? e : Ai(0 > r ? 0 : +r || 0, e), r -= t.length, r >= 0 && n.indexOf(t, r) == r } function pu(n) { return n = a(n), n && bn.test(n) ? n.replace(mn, p) : n } function vu(n) { return n = a(n), n && On.test(n) ? n.replace(Nn, v) : n || "(?:)" } function _u(n, t, r) { n = a(n), t = +t; var e = n.length; if (e >= t || !wi(t)) return n; var o = (t - e) / 2, u = yi(o), i = gi(o); return r = Dr("", i, r), r.slice(0, u) + n + r } function gu(n, t, r) { return (r ? Zr(n, t, r) : null == t) ? t = 0 : t && (t = +t), n = wu(n), Ei(n, t || (Sn.test(n) ? 16 : 10)) } function du(n, t) { var r = ""; if (n = a(n), t = +t, 1 > t || !n || !wi(t)) return r; do t % 2 && (r += n), t = yi(t / 2), n += n; while (t); return r } function yu(n, t, r) { return n = a(n), r = null == r ? 0 : Ai(0 > r ? 0 : +r || 0, n.length), n.lastIndexOf(t, r) == r } function mu(n, r, e) { var o = t.templateSettings; e && Zr(n, r, e) && (r = e = E), n = a(n), r = dt(yt({}, e || r), o, gt); var u, i, f = dt(yt({}, r.imports), o.imports, gt), c = Ka(f), l = tr(f, c), s = 0, h = r.interpolate || Ln, p = "__p += '", v = Mu((r.escape || Ln).source + "|" + h.source + "|" + (h === Cn ? kn : Ln).source + "|" + (r.evaluate || Ln).source + "|$", "g"), g = "//# sourceURL=" + ("sourceURL" in r ? r.sourceURL : "lodash.templateSources[" + ++Wn + "]") + "\n"; n.replace(v, function (t, r, e, o, a, f) { return e || (e = o), p += n.slice(s, f).replace(qn, _), r && (u = !0, p += "' +\n__e(" + r + ") +\n'"), a && (i = !0, p += "';\n" + a + ";\n__p += '"), e && (p += "' +\n((__t = (" + e + ")) == null ? '' : __t) +\n'"), s = f + t.length, t }), p += "';\n"; var d = r.variable; d || (p = "with (obj) {\n" + p + "\n}\n"), p = (i ? p.replace(_n, "") : p).replace(gn, "$1").replace(dn, "$1;"), p = "function(" + (d || "obj") + ") {\n" + (d ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (u ? ", __e = _.escape" : "") + (i ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + p + "return __p\n}"; var y = Ja(function () { return $u(c, g + "return " + p).apply(E, l) }); if (y.source = p, ko(y)) throw y; return y } function wu(n, t, r) { var e = n; return (n = a(n)) ? (r ? Zr(e, t, r) : null == t) ? n.slice(b(n), x(n) + 1) : (t += "", n.slice(f(n, t), c(n, t) + 1)) : n } function bu(n, t, r) { var e = n; return n = a(n), n ? (r ? Zr(e, t, r) : null == t) ? n.slice(b(n)) : n.slice(f(n, t + "")) : n } function xu(n, t, r) { var e = n; return n = a(n), n ? (r ? Zr(e, t, r) : null == t) ? n.slice(0, x(n) + 1) : n.slice(0, c(n, t + "") + 1) : n } function Au(n, t, r) { r && Zr(n, t, r) && (t = E); var e = U, o = P; if (null != t) if (Fo(t)) { var u = "separator" in t ? t.separator : u; e = "length" in t ? +t.length || 0 : e, o = "omission" in t ? a(t.omission) : o } else e = +t || 0; if (n = a(n), e >= n.length) return n; var i = e - o.length; if (1 > i) return o; var f = n.slice(0, i); if (null == u) return f + o; if (Wo(u)) { if (n.slice(i).search(u)) { var c, l, s = n.slice(0, i); for (u.global || (u = Mu(u.source, (Dn.exec(u) || "") + "g")), u.lastIndex = 0; c = u.exec(s);)l = c.index; f = f.slice(0, null == l ? i : l) } } else if (n.indexOf(u, i) != i) { var h = f.lastIndexOf(u); h > -1 && (f = f.slice(0, h)) } return f + o } function Cu(n) { return n = a(n), n && wn.test(n) ? n.replace(yn, A) : n } function Eu(n, t, r) { return r && Zr(n, t, r) && (t = E), n = a(n), n.match(t || Kn) || [] } function Ru(n, t, r) { return r && Zr(n, t, r) && (t = E), d(n) ? Ou(n) : bt(n, t) } function Iu(n) { return function () { return n } } function Nu(n) { return n } function Ou(n) { return Kt(xt(n, !0)) } function Tu(n, t) { return Bt(n, xt(t, !0)) } function ju(n, t, r) { if (null == r) { var e = Fo(t), o = e ? Ka(t) : E, u = o && o.length ? St(t, o) : E; (u ? u.length : e) || (u = !1, r = t, t = n, n = this) } u || (u = St(t, Ka(t))); var i = !0, a = -1, f = So(n), c = u.length; r === !1 ? i = !1 : Fo(r) && "chain" in r && (i = r.chain); for (; ++a < c;) { var l = u[a], s = t[l]; n[l] = s, f && (n.prototype[l] = function (t) { return function () { var r = this.__chain__; if (i || r) { var e = n(this.__wrapped__), o = e.__actions__ = tt(this.__actions__); return o.push({ func: t, args: arguments, thisArg: n }), e.__chain__ = r, e } return t.apply(n, lt([this.value()], arguments)) } }(s)) } return n } function ku() { return et._ = oi, this } function Du() { } function Su(n) { return ne(n) ? $t(n) : Vt(n) } function Fu(n) { return function (t) { return Ft(n, he(t), t + "") } } function Uu(n, t, r) { r && Zr(n, t, r) && (t = r = E), n = +n || 0, r = null == r ? 1 : +r || 0, null == t ? (t = n, n = 0) : t = +t || 0; for (var e = -1, o = xi(gi((t - n) / (r || 1)), 0), u = Bu(o); ++e < o;)u[e] = n, n += r; return u } function Pu(n, t, r) { if (n = yi(n), 1 > n || !wi(n)) return []; var e = -1, o = Bu(Ai(n, Oi)); for (t = ir(t, r, 1); ++e < n;)Oi > e ? o[e] = t(e) : t(e); return o } function Lu(n) { var t = ++ri; return a(n) + t } function qu(n, t) { return (+n || 0) + (+t || 0) } function Ku(n, t, r) { return r && Zr(n, t, r) && (t = E), t = Br(t, r, 3), 1 == t.length ? vt(Oa(n) ? n : le(n), t) : Zt(n, t) } n = n ? ot.defaults(et.Object(), n, ot.pick(et, Bn)) : et; var Bu = n.Array, Wu = n.Date, Yu = n.Error, $u = n.Function, Vu = n.Math, Gu = n.Number, zu = n.Object, Mu = n.RegExp, Hu = n.String, Qu = n.TypeError, Ju = Bu.prototype, Xu = zu.prototype, Zu = Hu.prototype, ni = $u.prototype.toString, ti = Xu.hasOwnProperty, ri = 0, ei = Xu.toString, oi = et._, ui = Mu("^" + ni.call(ti).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), ii = n.ArrayBuffer, ai = n.clearTimeout, fi = n.parseFloat, ci = Vu.pow, li = Xu.propertyIsEnumerable, si = Vr(n, "Set"), hi = n.setTimeout, pi = Ju.splice, vi = n.Uint8Array, _i = Vr(n, "WeakMap"), gi = Vu.ceil, di = Vr(zu, "create"), yi = Vu.floor, mi = Vr(Bu, "isArray"), wi = n.isFinite, bi = Vr(zu, "keys"), xi = Vu.max, Ai = Vu.min, Ci = Vr(Wu, "now"), Ei = n.parseInt, Ri = Vu.random, Ii = Gu.NEGATIVE_INFINITY, Ni = Gu.POSITIVE_INFINITY, Oi = 4294967295, Ti = Oi - 1, ji = Oi >>> 1, ki = 9007199254740991, Di = _i && new _i, Si = {}; t.support = {}; t.templateSettings = { escape: xn, evaluate: An, interpolate: Cn, variable: "", imports: { _: t } }; var Fi = function () { function n() { } return function (t) { if (Fo(t)) { n.prototype = t; var r = new n; n.prototype = E } return r || {} } }(), Ui = hr(kt), Pi = hr(Dt, !0), Li = pr(), qi = pr(!0), Ki = Di ? function (n, t) { return Di.set(n, t), n } : Nu, Bi = Di ? function (n) { return Di.get(n) } : Du, Wi = $t("length"), Yi = function () { var n = 0, t = 0; return function (r, e) { var o = _a(), u = q - (o - t); if (t = o, u > 0) { if (++n >= L) return r } else n = 0; return Ki(r, e) } }(), $i = yo(function (n, t) { return d(n) && Jr(n) ? Ct(n, Tt(t, !1, !0)) : [] }), Vi = xr(), Gi = xr(!0), zi = yo(function (n) { for (var t = n.length, r = t, e = Bu(s), o = Yr(), i = o == u, a = []; r--;) { var f = n[r] = Jr(f = n[r]) ? f : []; e[r] = i && f.length >= 120 ? _r(r && f) : null } var c = n[0], l = -1, s = c ? c.length : 0, h = e[0]; n: for (; ++l < s;)if (f = c[l], (h ? Xn(h, f) : o(a, f, 0)) < 0) { for (var r = t; --r;) { var p = e[r]; if ((p ? Xn(p, f) : o(n[r], f, 0)) < 0) continue n } h && h.push(f), a.push(f) } return a }), Mi = yo(function (n, t) { t = Tt(t); var r = mt(n, t); return Gt(n, t.sort(e)), r }), Hi = Ur(), Qi = Ur(!0), Ji = yo(function (n) { return nr(Tt(n, !1, !0)) }), Xi = yo(function (n, t) { return Jr(n) ? Ct(n, t) : [] }), Zi = yo(Pe), na = yo(function (n) { var t = n.length, r = t > 2 ? n[t - 2] : E, e = t > 1 ? n[t - 1] : E; return t > 2 && "function" == typeof r ? t -= 2 : (r = t > 1 && "function" == typeof e ? (--t, e) : E, e = E), n.length = t, Le(n, r, e) }), ta = yo(function (n) { return n = Tt(n), this.thru(function (t) { return nt(Oa(t) ? t : [se(t)], n) }) }), ra = yo(function (n, t) { return mt(n, Tt(t)) }), ea = lr(function (n, t, r) { ti.call(n, r) ? ++n[r] : n[r] = 1 }), oa = br(Ui), ua = br(Pi, !0), ia = Er(rt, Ui), aa = Er(ut, Pi), fa = lr(function (n, t, r) { ti.call(n, r) ? n[r].push(t) : n[r] = [t] }), ca = lr(function (n, t, r) { n[r] = t }), la = yo(function (n, t, r) { var e = -1, o = "function" == typeof t, u = ne(t), i = Jr(n) ? Bu(n.length) : []; return Ui(n, function (n) { var a = o ? t : u && null != n ? n[t] : E; i[++e] = a ? a.apply(n, r) : Qr(n, t, r) }), i }), sa = lr(function (n, t, r) { n[r ? 0 : 1].push(t) }, function () { return [[], []] }), ha = jr(st, Ui), pa = jr(ht, Pi), va = yo(function (n, t) { if (null == n) return []; var r = t[2]; return r && Zr(t[0], t[1], r) && (t.length = 1), Xt(n, Tt(t), []) }), _a = Ci || function () { return (new Wu).getTime() }, ga = yo(function (n, t, r) { var e = I; if (r.length) { var o = m(r, ga.placeholder); e |= k } return Pr(n, e, t, r, o) }), da = yo(function (n, t) { t = t.length ? Tt(t) : Jo(n); for (var r = -1, e = t.length; ++r < e;) { var o = t[r]; n[o] = Pr(n[o], I, n) } return n }), ya = yo(function (n, t, r) { var e = I | N; if (r.length) { var o = m(r, ya.placeholder); e |= k } return Pr(t, e, n, r, o) }), ma = yr(T), wa = yr(j), ba = yo(function (n, t) { return At(n, 1, t) }), xa = yo(function (n, t, r) { return At(n, t, r) }), Aa = Cr(), Ca = Cr(!0), Ea = yo(function (n, t) { if (t = Tt(t), "function" != typeof n || !it(t, i)) throw new Qu(Y); var r = t.length; return yo(function (e) { for (var o = Ai(e.length, r); o--;)e[o] = t[o](e[o]); return n.apply(this, e) }) }), Ra = Tr(k), Ia = Tr(D), Na = yo(function (n, t) { return Pr(n, F, E, E, E, Tt(t)) }), Oa = mi || function (n) { return d(n) && re(n.length) && ei.call(n) == G }, Ta = sr(Wt), ja = sr(function (n, t, r) { return r ? dt(n, t, r) : yt(n, t) }), ka = mr(ja, _t), Da = mr(Ta, ue), Sa = Ar(kt), Fa = Ar(Dt), Ua = Rr(Li), Pa = Rr(qi), La = Ir(kt), qa = Ir(Dt), Ka = bi ? function (n) { var t = null == n ? E : n.constructor; return "function" == typeof t && t.prototype === n || "function" != typeof n && Jr(n) ? ce(n) : Fo(n) ? bi(n) : [] } : ce, Ba = Nr(!0), Wa = Nr(), Ya = yo(function (n, t) { if (null == n) return {}; if ("function" != typeof t[0]) { var t = ct(Tt(t), Hu); return ie(n, Ct(tu(n), t)) } var r = ir(t[0], t[1], 3); return ae(n, function (n, t, e) { return !r(n, t, e) }) }), $a = yo(function (n, t) { return null == n ? {} : "function" == typeof t[0] ? ae(n, ir(t[0], t[1], 3)) : ie(n, Tt(t)) }), Va = gr(function (n, t, r) { return t = t.toLowerCase(), n + (r ? t.charAt(0).toUpperCase() + t.slice(1) : t) }), Ga = gr(function (n, t, r) { return n + (r ? "-" : "") + t.toLowerCase() }), za = Or(), Ma = Or(!0), Ha = gr(function (n, t, r) { return n + (r ? "_" : "") + t.toLowerCase() }), Qa = gr(function (n, t, r) { return n + (r ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1)) }), Ja = yo(function (n, t) { try { return n.apply(E, t) } catch (r) { return ko(r) ? r : new Yu(r) } }), Xa = yo(function (n, t) { return function (r) { return Qr(r, n, t) } }), Za = yo(function (n, t) { return function (r) { return Qr(n, r, t) } }), nf = Fr("ceil"), tf = Fr("floor"), rf = wr(Co, Ii), ef = wr(Go, Ni), of = Fr("round"); return t.prototype = r.prototype, y.prototype = Fi(r.prototype), y.prototype.constructor = y, J.prototype = Fi(r.prototype), J.prototype.constructor = J, Gn.prototype["delete"] = zn, Gn.prototype.get = Mn, Gn.prototype.has = Hn, Gn.prototype.set = Qn, Jn.prototype.push = Zn, vo.Cache = Gn, t.after = lo, t.ary = so, t.assign = ja, t.at = ra, t.before = ho, t.bind = ga, t.bindAll = da, t.bindKey = ya, t.callback = Ru, t.chain = Be, t.chunk = ve, t.compact = _e, t.constant = Iu, t.countBy = ea, t.create = Qo, t.curry = ma, t.curryRight = wa, t.debounce = po, t.defaults = ka, t.defaultsDeep = Da, t.defer = ba, t.delay = xa, t.difference = $i, t.drop = ge, t.dropRight = de, t.dropRightWhile = ye, t.dropWhile = me, t.fill = we, t.filter = Je, t.flatten = xe, t.flattenDeep = Ae, t.flow = Aa, t.flowRight = Ca, t.forEach = ia, t.forEachRight = aa, t.forIn = Ua, t.forInRight = Pa, t.forOwn = La, t.forOwnRight = qa, t.functions = Jo, t.groupBy = fa, t.indexBy = ca, t.initial = Ee, t.intersection = zi, t.invert = nu, t.invoke = la, t.keys = Ka, t.keysIn = tu, t.map = no, t.mapKeys = Ba, t.mapValues = Wa, t.matches = Ou, t.matchesProperty = Tu, t.memoize = vo, t.merge = Ta, t.method = Xa, t.methodOf = Za, t.mixin = ju, t.modArgs = Ea, t.negate = _o, t.omit = Ya, t.once = go, t.pairs = ru, t.partial = Ra, t.partialRight = Ia, t.partition = sa, t.pick = $a, t.pluck = to, t.property = Su, t.propertyOf = Fu, t.pull = Ne, t.pullAt = Mi, t.range = Uu, t.rearg = Na, t.reject = ro, t.remove = Oe, t.rest = Te, t.restParam = yo, t.set = ou, t.shuffle = oo, t.slice = je, t.sortBy = ao, t.sortByAll = va, t.sortByOrder = fo, t.spread = mo, t.take = ke, t.takeRight = De, t.takeRightWhile = Se, t.takeWhile = Fe, t.tap = We, t.throttle = wo, t.thru = Ye, t.times = Pu, t.toArray = Mo, t.toPlainObject = Ho, t.transform = uu, t.union = Ji, t.uniq = Ue, t.unzip = Pe, t.unzipWith = Le, t.values = iu, t.valuesIn = au, t.where = co, t.without = Xi, t.wrap = bo, t.xor = qe, t.zip = Zi, t.zipObject = Ke, t.zipWith = na, t.backflow = Ca, t.collect = no, t.compose = Ca, t.each = ia, t.eachRight = aa, t.extend = ja, t.iteratee = Ru, t.methods = Jo, t.object = Ke, t.select = Je, t.tail = Te, t.unique = Ue, ju(t, t), t.add = qu, t.attempt = Ja, t.camelCase = Va, t.capitalize = lu, t.ceil = nf, t.clone = xo, t.cloneDeep = Ao, t.deburr = su, t.endsWith = hu, t.escape = pu, t.escapeRegExp = vu, t.every = Qe, t.find = oa, t.findIndex = Vi, t.findKey = Sa, t.findLast = ua, t.findLastIndex = Gi, t.findLastKey = Fa, t.findWhere = Xe, t.first = be, t.floor = tf, t.get = Xo, t.gt = Co, t.gte = Eo, t.has = Zo, t.identity = Nu, t.includes = Ze, t.indexOf = Ce, t.inRange = fu, t.isArguments = Ro, t.isArray = Oa, t.isBoolean = Io, t.isDate = No, t.isElement = Oo, t.isEmpty = To, t.isEqual = jo, t.isError = ko, t.isFinite = Do, t.isFunction = So, t.isMatch = Uo, t.isNaN = Po, t.isNative = Lo, t.isNull = qo, t.isNumber = Ko, t.isObject = Fo, t.isPlainObject = Bo, t.isRegExp = Wo, t.isString = Yo, t.isTypedArray = $o, t.isUndefined = Vo, t.kebabCase = Ga, t.last = Re, t.lastIndexOf = Ie, t.lt = Go, t.lte = zo, t.max = rf, t.min = ef, t.noConflict = ku, t.noop = Du, t.now = _a, t.pad = _u, t.padLeft = za, t.padRight = Ma, t.parseInt = gu, t.random = cu, t.reduce = ha, t.reduceRight = pa, t.repeat = du, t.result = eu, t.round = of, t.runInContext = C, t.size = uo, t.snakeCase = Ha, t.some = io, t.sortedIndex = Hi, t.sortedLastIndex = Qi, t.startCase = Qa, t.startsWith = yu, t.sum = Ku, t.template = mu, t.trim = wu, t.trimLeft = bu, t.trimRight = xu, t.trunc = Au, t.unescape = Cu, t.uniqueId = Lu, t.words = Eu, t.all = Qe, t.any = io, t.contains = Ze, t.eq = jo, t.detect = oa, t.foldl = ha, t.foldr = pa, t.head = be, t.include = Ze, t.inject = ha, ju(t, function () { var n = {}; return kt(t, function (r, e) { t.prototype[e] || (n[e] = r) }), n }(), !1), t.sample = eo, t.prototype.sample = function (n) { return this.__chain__ || null != n ? this.thru(function (t) { return eo(t, n) }) : eo(this.value()) }, t.VERSION = R, rt(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function (n) { t[n].placeholder = t }), rt(["drop", "take"], function (n, t) { J.prototype[n] = function (r) { var e = this.__filtered__; if (e && !t) return new J(this); r = null == r ? 1 : xi(yi(r) || 0, 0); var o = this.clone(); return e ? o.__takeCount__ = Ai(o.__takeCount__, r) : o.__views__.push({ size: r, type: n + (o.__dir__ < 0 ? "Right" : "") }), o }, J.prototype[n + "Right"] = function (t) { return this.reverse()[n](t).reverse() } }), rt(["filter", "map", "takeWhile"], function (n, t) { var r = t + 1, e = r != W; J.prototype[n] = function (n, t) { var o = this.clone(); return o.__iteratees__.push({ iteratee: Br(n, t, 1), type: r }), o.__filtered__ = o.__filtered__ || e, o } }), rt(["first", "last"], function (n, t) { var r = "take" + (t ? "Right" : ""); J.prototype[n] = function () { return this[r](1).value()[0] } }), rt(["initial", "rest"], function (n, t) { var r = "drop" + (t ? "" : "Right"); J.prototype[n] = function () { return this.__filtered__ ? new J(this) : this[r](1) } }), rt(["pluck", "where"], function (n, t) { var r = t ? "filter" : "map", e = t ? Kt : Su; J.prototype[n] = function (n) { return this[r](e(n)) } }), J.prototype.compact = function () { return this.filter(Nu) }, J.prototype.reject = function (n, t) { return n = Br(n, t, 1), this.filter(function (t) { return !n(t) }) }, J.prototype.slice = function (n, t) { n = null == n ? 0 : +n || 0; var r = this; return r.__filtered__ && (n > 0 || 0 > t) ? new J(r) : (0 > n ? r = r.takeRight(-n) : n && (r = r.drop(n)), t !== E && (t = +t || 0, r = 0 > t ? r.dropRight(-t) : r.take(t - n)), r) }, J.prototype.takeRightWhile = function (n, t) { return this.reverse().takeWhile(n, t).reverse() }, J.prototype.toArray = function () { return this.take(Ni) }, kt(J.prototype, function (n, r) { var e = /^(?:filter|map|reject)|While$/.test(r), o = /^(?:first|last)$/.test(r), u = t[o ? "take" + ("last" == r ? "Right" : "") : r]; u && (t.prototype[r] = function () { var t = o ? [1] : arguments, r = this.__chain__, i = this.__wrapped__, a = !!this.__actions__.length, f = i instanceof J, c = t[0], l = f || Oa(i); l && e && "function" == typeof c && 1 != c.length && (f = l = !1); var s = function (n) { return o && r ? u(n, 1)[0] : u.apply(E, lt([n], t)) }, h = { func: Ye, args: [s], thisArg: E }, p = f && !a; if (o && !r) return p ? (i = i.clone(), i.__actions__.push(h), n.call(i)) : u.call(E, this.value())[0]; if (!o && l) { i = p ? i : new J(this); var v = n.apply(i, t); return v.__actions__.push(h), new y(v, r) } return this.thru(s) }) }), rt(["join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function (n) { var r = (/^(?:replace|split)$/.test(n) ? Zu : Ju)[n], e = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru", o = /^(?:join|pop|replace|shift)$/.test(n); t.prototype[n] = function () { var n = arguments; return o && !this.__chain__ ? r.apply(this.value(), n) : this[e](function (t) { return r.apply(t, n) }) } }), kt(J.prototype, function (n, r) { var e = t[r]; if (e) { var o = e.name, u = Si[o] || (Si[o] = []); u.push({ name: r, func: e }) } }), Si[kr(E, N).name] = [{ name: "wrapper", func: E }], J.prototype.clone = tn, J.prototype.reverse = en, J.prototype.value = Vn, t.prototype.chain = $e, t.prototype.commit = Ve, t.prototype.concat = ta, t.prototype.plant = Ge, t.prototype.reverse = ze, t.prototype.toString = Me, t.prototype.run = t.prototype.toJSON = t.prototype.valueOf = t.prototype.value = He, t.prototype.collect = t.prototype.map, t.prototype.head = t.prototype.first, t.prototype.select = t.prototype.filter, t.prototype.tail = t.prototype.rest, t
                        } var E, R = "3.10.1", I = 1, N = 2, O = 4, T = 8, j = 16, k = 32, D = 64, S = 128, F = 256, U = 30, P = "...", L = 150, q = 16, K = 200, B = 1, W = 2, Y = "Expected a function", $ = "__lodash_placeholder__", V = "[object Arguments]", G = "[object Array]", z = "[object Boolean]", M = "[object Date]", H = "[object Error]", Q = "[object Function]", J = "[object Map]", X = "[object Number]", Z = "[object Object]", nn = "[object RegExp]", tn = "[object Set]", rn = "[object String]", en = "[object WeakMap]", on = "[object ArrayBuffer]", un = "[object Float32Array]", an = "[object Float64Array]", fn = "[object Int8Array]", cn = "[object Int16Array]", ln = "[object Int32Array]", sn = "[object Uint8Array]", hn = "[object Uint8ClampedArray]", pn = "[object Uint16Array]", vn = "[object Uint32Array]", _n = /\b__p \+= '';/g, gn = /\b(__p \+=) '' \+/g, dn = /(__e\(.*?\)|\b__t\)) \+\n'';/g, yn = /&(?:amp|lt|gt|quot|#39|#96);/g, mn = /[&<>"'`]/g, wn = RegExp(yn.source), bn = RegExp(mn.source), xn = /<%-([\s\S]+?)%>/g, An = /<%([\s\S]+?)%>/g, Cn = /<%=([\s\S]+?)%>/g, En = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/, Rn = /^\w*$/, In = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g, Nn = /^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g, On = RegExp(Nn.source), Tn = /[\u0300-\u036f\ufe20-\ufe23]/g, jn = /\\(\\)?/g, kn = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Dn = /\w*$/, Sn = /^0[xX]/, Fn = /^\[object .+?Constructor\]$/, Un = /^\d+$/, Pn = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g, Ln = /($^)/, qn = /['\n\r\u2028\u2029\\]/g, Kn = function () { var n = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", t = "[a-z\\xdf-\\xf6\\xf8-\\xff]+"; return RegExp(n + "+(?=" + n + t + ")|" + n + "?" + t + "|" + n + "+|[0-9]+", "g") }(), Bn = ["Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap"], Wn = -1, Yn = {}; Yn[un] = Yn[an] = Yn[fn] = Yn[cn] = Yn[ln] = Yn[sn] = Yn[hn] = Yn[pn] = Yn[vn] = !0, Yn[V] = Yn[G] = Yn[on] = Yn[z] = Yn[M] = Yn[H] = Yn[Q] = Yn[J] = Yn[X] = Yn[Z] = Yn[nn] = Yn[tn] = Yn[rn] = Yn[en] = !1; var $n = {}; $n[V] = $n[G] = $n[on] = $n[z] = $n[M] = $n[un] = $n[an] = $n[fn] = $n[cn] = $n[ln] = $n[X] = $n[Z] = $n[nn] = $n[rn] = $n[sn] = $n[hn] = $n[pn] = $n[vn] = !0, $n[H] = $n[Q] = $n[J] = $n[tn] = $n[en] = !1; var Vn = { "À": "A", "Á": "A", "Â": "A", "Ã": "A", "Ä": "A", "Å": "A", "à": "a", "á": "a", "â": "a", "ã": "a", "ä": "a", "å": "a", "Ç": "C", "ç": "c", "Ð": "D", "ð": "d", "È": "E", "É": "E", "Ê": "E", "Ë": "E", "è": "e", "é": "e", "ê": "e", "ë": "e", "Ì": "I", "Í": "I", "Î": "I", "Ï": "I", "ì": "i", "í": "i", "î": "i", "ï": "i", "Ñ": "N", "ñ": "n", "Ò": "O", "Ó": "O", "Ô": "O", "Õ": "O", "Ö": "O", "Ø": "O", "ò": "o", "ó": "o", "ô": "o", "õ": "o", "ö": "o", "ø": "o", "Ù": "U", "Ú": "U", "Û": "U", "Ü": "U", "ù": "u", "ú": "u", "û": "u", "ü": "u", "Ý": "Y", "ý": "y", "ÿ": "y", "Æ": "Ae", "æ": "ae", "Þ": "Th", "þ": "th", "ß": "ss" }, Gn = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "`": "&#96;" }, zn = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'", "&#96;": "`" }, Mn = { "function": !0, object: !0 }, Hn = { 0: "x30", 1: "x31", 2: "x32", 3: "x33", 4: "x34", 5: "x35", 6: "x36", 7: "x37", 8: "x38", 9: "x39", A: "x41", B: "x42", C: "x43", D: "x44", E: "x45", F: "x46", a: "x61", b: "x62", c: "x63", d: "x64", e: "x65", f: "x66", n: "x6e", r: "x72", t: "x74", u: "x75", v: "x76", x: "x78" }, Qn = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, Jn = Mn[typeof r] && r && !r.nodeType && r, Xn = Mn[typeof t] && t && !t.nodeType && t, Zn = Jn && Xn && "object" == typeof n && n && n.Object && n, nt = Mn[typeof self] && self && self.Object && self, tt = Mn[typeof window] && window && window.Object && window, rt = Xn && Xn.exports === Jn && Jn, et = Zn || tt !== (this && this.window) && tt || nt || this, ot = C(); "function" == typeof define && "object" == typeof define.amd && define.amd ? (et._ = ot, define(function () { return ot })) : Jn && Xn ? rt ? (Xn.exports = ot)._ = ot : Jn._ = ot : et._ = ot
                    }).call(this)
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}], 2: [function (t, r, e) { function o(n) { try { this.pianoKeyNb = n.keynb, this.frequency = n.freq, this.octave = n.name.substr(-1, 1), this.name = n.name, this.duration = u.random(.5, 3, !0), this.volume = 1, this.verbose = !1, this.audioContext = void 0 === n.audioContext ? new (window.AudioContext || window.webkitAudioContext) : n.audioContext, this.destinationNode = this.audioContext.destination } catch (t) { return console.error(t), null } } var u = t("lodash"); o.buildFromName = function (t, r) { try { if (void 0 === t) throw "note name was not provided"; if (OCTAVE_INPUT = parseInt(t.slice(-1)), OCTAVE_INPUT < 1 || OCTAVE_INPUT > 8) throw "Invalid octave: " + t; if (NOTE_INPUT = t.slice(0, 2), DICT_TRANSLATIONS = { Cb: "B", Db: "C#", Eb: "D#", Fb: "E", Gb: "F#", Ab: "G#", Bb: "A#" }, t = DICT_TRANSLATIONS[NOTE_INPUT] ? DICT_TRANSLATIONS[NOTE_INPUT] + OCTAVE_INPUT : t, n = u(this.getNotesInfo()).find(function (n) { return n.name == t }), n) return n.audioContext = r, new o(n); throw "Invalid note name: " + t + ", did you forget to mention the octave nb ?" } catch (e) { return console.error("NOTEPLAYER ERROR: " + e), console.warn("USAGE: notePlayer.buildFromName(noteNameWithOctave,[audioContext]). i.e: buildFromName('G4')"), null } }, o.buildFromFrequency = function (n, t) { try { if (void 0 === n) throw "note frequency was not provided"; if (list = this.getNotesInfo(), n < list[0].freq || n > list[list.length - 1].freq) throw "Invalid frequency (out of range 27.5-4186): " + n; return closest = list.reduce(function (t, r) { return Math.abs(r.freq - n) < Math.abs(t.freq - n) ? r : t }), this.buildFromName(closest.name, t) } catch (r) { return console.error("NOTEPLAYER ERROR: " + r), console.warn("USAGE: notePlayer.buildFromFrequency(frequency,[audioContext]). i.e: buildFromFrequency(440)"), null } }, o.buildFromKeyNb = function (t, r) { try { if (void 0 === t) throw "note keyNumber was not provided"; if (n = u(this.getNotesInfo()).find(function (n) { return n.keynb == t }), !n) throw "Invalid keyNumber: " + t + ", has to be within range 1-88"; return n.audioContext = r, new o(n) } catch (e) { return console.error("NOTEPLAYER ERROR: " + e), console.warn("USAGE: notePlayer.buildFromKeyNb(noteKeyNb,[audioContext]). i.e: buildFromKeyNb(49)"), null } }, o.getNotesInfo = function () { return DICT_KEYS = ["A", "A#", "B", "C", "C#", "D", "D#", "E", "F", "F#", "G", "G#"], DICT_OCTAVES = [0, 1, 2, 3, 4, 5, 6, 7, 8], FREQ = 25.95654359874657, KEYNB = 0, u(DICT_OCTAVES).map(function (n, t) { return u(DICT_KEYS).map(function (t, r) { return KEYNB++, FREQ *= Math.pow(2, 1 / 12), { keynb: KEYNB, freq: FREQ, name: t + n } }).value() }).flatten().dropRightWhile(function (n, t) { return t >= 88 }).value() }, o.prototype.play = function (n) { this.verbose && console.log("Note " + this.name + " will play for a duration of " + this.duration); var t = this.audioContext.createOscillator(); t.frequency.value = this.frequency; var r = this.audioContext.createGain(); r.gain.value = this.volume, t.connect(r), r.connect(this.destinationNode), t.start(0), t_np = this, setTimeout(function () { t_np.verbose && console.log("Note " + t_np.name + " has finished playing"), t.stop(0) }, 1e3 * this.duration), t.onended = function () { n && n() } }, o.prototype.setAudioContext = function (n) { this.audioContext = void 0 == n ? this.audioContext : n }, o.prototype.setDestinationNode = function (n) { this.destinationNode = void 0 === n ? this.audiocontext.destination : n }, o.prototype.setDuration = function (n) { this.duration = void 0 === n ? this.duration : n }, o.prototype.setVolume = function (n) { this.volume = void 0 === n ? this.volume : n }, o.prototype.setVerbose = function (n) { this.verbose = void 0 === n || n === !0 ? !0 : !1 }, r.exports = o }, { lodash: 1 }], 3: [function (t, r, e) { function o(n, t) { try { if (void 0 === n) throw "chordName not specified"; this.octave = 4, this.name = n, this.duration = u.random(.5, 3, !0), this.volume = .5, this.notes = [], this.isPlaying = !1, this.verbose = !1, this.audioContext = void 0 === t ? new (window.AudioContext || window.webkitAudioContext) : t, this.destinationNode = this.audioContext.destination } catch (r) { return console.error("CHORDPLAYER ERROR: " + r), console.warn("USAGE: new chordPlayer(chordName,[audioContext])"), null } } var u = t("lodash"), i = t("noteplayer"); o.buildChordPlayer = function (n, t) { try { if (void 0 === n) throw "chordName not specified"; if (n.length <= 1) throw "invalid chordName"; return new o(n, t) } catch (r) { return console.error("CHORDPLAYER ERROR: " + r), console.warn("USAGE: chordPlayer.buildChordPlayer(chordName,[audioContext])"), null } }, o.prototype.play = function (t) { this.verbose && console.log("Chord will play for a duration of " + this.duration), this.gainNode = this.audioContext.createGain(), this.gainNode.gain.value = this.volume, t_cp = this, this.notes = u(t_cp.getChordInfo()).map(function (t) { return n = i.buildFromName(t + t_cp.octave, t_cp.audioContext), n.setDestinationNode(t_cp.gainNode), n.setDuration(t_cp.duration), n.setVerbose(t_cp.verbose), n }).value(), this.gainNode.connect(this.destinationNode), this.isPlaying = !0, this.notes.forEach(function (n) { n.play(function () { t_cp.isPlaying && (t_cp.verbose && console.log("Chord has finished playing"), t_cp.isPlaying = !1, t && t()) }) }) }, o.prototype.getChordInfo = function () { DICT_KEYS = ["A", "A#", "B", "C", "C#", "D", "D#", "E", "F", "F#", "G", "G#"], DICT_TRANSLATIONS = { Cb: "B", Db: "C#", Eb: "D#", Fb: "E", Gb: "F#", Ab: "G#", Bb: "A#" }, DICT_INTERVALS = { maj: [0, 4, 7], min: [0, 3, 7], min7b5: [0, 3, 6, 10], dim: [0, 3, 6], aug: [0, 4, 8], maj7: [0, 4, 7, 11], min7: [0, 3, 7, 10], 7: [0, 4, 7, 10], minmaj7: [0, 3, 7, 11], "maj7#5": [0, 4, 8, 11], dim7: [0, 3, 6, 9] }; try { return R = "#" == this.name.substr(1, 1) || "b" == this.name.substr(1, 1) ? this.name.substr(0, 2) : this.name.substr(0, 1), chord_root = "b" === R.slice(-1) ? DICT_TRANSLATIONS[R] : R, chord_body = this.name.substring(chord_root.length), INTERVALS = DICT_INTERVALS[chord_body], pos = DICT_KEYS.indexOf(chord_root), ROOT_ORDERED_DICT_KEYS = DICT_KEYS.slice(pos, DICT_KEYS.length).concat(DICT_KEYS.slice(0, pos)), u(INTERVALS).map(function (n) { return ROOT_ORDERED_DICT_KEYS[n] }).value() } catch (n) { console.error("CHORDPLAYER ERROR: " + n) } }, o.prototype.setAudioContext = function (n) { this.audioContext = void 0 == n ? this.audioContext : n }, o.prototype.setDestinationNode = function (n) { this.destinationNode = void 0 === n ? this.audiocontext.destination : n }, o.prototype.setOctave = function (n) { this.octave = void 0 === n ? this.octave : n }, o.prototype.setVolume = function (n) { this.volume = void 0 === n ? this.volume : n }, o.prototype.setDuration = function (n) { this.duration = void 0 === n ? this.duration : n }, o.prototype.setVerbose = function (n) { this.verbose = void 0 === n || n === !0 ? !0 : !1 }, r.exports = o }, { lodash: 1, noteplayer: 2 }], 4: [function (n, t, r) { var e = n("./chordPlayer.js"); window.cp = e }, { "./chordPlayer.js": 3 }]
        }, {}, [4]);
    </script>

</head>

<body>
    <canvas id="canvas" resize></canvas>
</body>

</html>